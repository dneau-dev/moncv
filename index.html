<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CV - Daniel Neau-Inizan | Portfolio</title>
    <meta name="description" content="CV de Daniel Neau-Inizan - Profil professionnel et compétences." />

    <!-- Icônes FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

    <!-- CSS externe -->
    <link rel="stylesheet" href="style.css" />

    <!-- SEO : Données structurées -->
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Daniel Neau-Inizan",
      "jobTitle": "Développeur",
      "url": "",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "34b rue des sources",
        "addressLocality": "Saint-Pathus",
        "addressCountry": "FR"
      },
      "email": "neauinizan.daniel@gmail.com",
      "telephone": "+33761077231"
    }
    </script>
</head>
<body>

    <div class="custom-controls" id="main-control-bar">
        <!-- GROUPE GAUCHE : MENU CONTACT + TITRE -->
        <div class="controls-group">
            <div class="dropdown">
                <button onclick="toggleMenu()" class="control-button" title="Me contacter">
                    <i class="fas fa-address-card"></i>
                    <span>Contact</span>
                    <i class="fas fa-chevron-down" style="font-size: 0.7em; margin-left: 2px; opacity: 0.6;"></i>
                </button>

                <!-- MENU DÉROULANT -->
                <div id="contactDropdown" class="dropdown-content">
                    <a href="mailto:neauinizan.daniel@gmail.com" onclick="copyToClipboard('neauinizan.daniel@gmail.com', event)">
                        <i class="fas fa-envelope"></i>
                        <span class="info-text">neauinizan.daniel@gmail.com</span>
                    </a>
                    <a href="tel:+33761077231" onclick="copyToClipboard('0761077231', event)">
                        <i class="fas fa-phone-alt"></i>
                        <span class="info-text">07 61 07 72 31</span>
                    </a>
                    <a href="https://www.google.com/maps/search/?api=1&query=34b+rue+des+sources+Saint-Pathus" target="_blank">
                        <i class="fas fa-map-marker-alt"></i>
                        <span class="info-text">34b rue des Sources, St-Pathus</span>
                    </a>
                </div>
            </div>

            <span class="title-text">CV Daniel Neau-Inizan</span>
        </div>

        <!-- GROUPE DROITE : ACTIONS PDF -->
        <div class="controls-group">
            <button class="control-button" onclick="toggleFullScreen()" title="Plein écran">
                <i class="fas fa-expand"></i>
            </button>
            <a href="daniel-neau-inizan-cv.pdf" class="control-button primary" download title="Télécharger le PDF">
                <i class="fas fa-download"></i>
                <span class="btn-text">PDF</span>
            </a>
        </div>
    </div>

    <!-- ZONE D'AFFICHAGE DU PDF -->
    <div class="pdf-wrapper">
        <div class="pdf-document-frame">
            <object
                data="daniel-neau-inizan-cv.pdf"
                type="application/pdf"
                class="pdf-container"
                aria-label="CV de Daniel Neau-Inizan"
            >
                <div class="fallback-message">
                    <h3>Affichage direct non supporté</h3>
                    <p>Votre navigateur ne permet pas de voir le PDF directement ici.</p>
                    <a href="daniel-neau-inizan-cv.pdf" class="control-button" download>
                        Télécharger le CV
                    </a>
                </div>
            </object>
        </div>
    </div>

    <script>
        function copyToClipboard(text, event) {
            navigator.clipboard.writeText(text).then(() => {
                const iconElement = event.target.closest('a').querySelector('i');

                const originalClass = iconElement.className;
                const originalColor = iconElement.style.color;

                iconElement.className = "fas fa-check";
                iconElement.style.color = "#34C759";

                setTimeout(() => {
                    iconElement.className = originalClass;
                    iconElement.style.color = originalColor;
                }, 1500);
            }).catch(err => {
                console.error('Erreur copie :', err);
            });
        }

        function toggleMenu() {
            document.getElementById("contactDropdown").classList.toggle("show");
        }

        // Ferme le menu si on clique en dehors
        window.onclick = function(event) {
            if (!event.target.matches('.control-button') && !event.target.closest('.control-button')) {
                const dropdowns = document.getElementsByClassName("dropdown-content");
                for (let i = 0; i < dropdowns.length; i++) {
                    const openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        };

        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.log("Erreur plein écran :", err);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const controlBars = document.querySelectorAll('.custom-controls');
            if (controlBars.length > 1) {
                for (let i = 1; i < controlBars.length; i++) {
                    controlBars[i].remove();
                }
            }
        });
    </script>
</body>
</html>
